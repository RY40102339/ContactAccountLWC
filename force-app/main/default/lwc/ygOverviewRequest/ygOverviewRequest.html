<template>
    <template if:true={isLoading}>
        <div class="loading">
            <div class="loading-txt">
                <div class="row text-center">
                    <div class="col-lg-12">
                        <svg width="51" height="52" viewBox="0 0 51 52" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M0.410156 25.1209C11.2022 31.0632 20.0171 40.1454 25.6268 51.1329L25.6109 51.1349C31.2146 40.1493 40.0255 31.0692 50.8116 25.1249L50.7937 25.1407L25.6208 0L0.434001 25.1407L0.410156 25.1209Z"
                                fill="#FFEE00"></path>
                        </svg>
                    </div>
                    <div class="col-lg-12 mt-3" style="margin-top: 1rem !important;">
                        <div class="spinner-border text-dark"></div>
                        <div class="txt-load">Loading..</div>
                    </div>
                </div>
            </div>
        </div>
    </template>
    <!-- <div class="row">
        <div class="section">
            <div class="col-lg-12">
                <template if:true={plantRequest}>
                    <p class="f14 grey-darkest">
                        To view all the Yokogawa products you own or manage, please <a href="javascript:void(0)"
                            class="blue-primary" onclick={requestPlant}><ins>specify the plant you are working
                                at.</ins></a>
                    </p>
                </template>
                <template if:true={productRequest}>
                    <p class="f14 grey-darkest">
                        For quicker service and product support alerts, please <a href="javascript:void(0)"
                            class="blue-primary"><ins>register your products.</ins></a>
                    </p>
                </template>
            </div>
        </div>
    </div> -->
    <div class="row">
        <div class="col-lg-8">
            <c-yg-notification-bar></c-yg-notification-bar>
        </div>
    </div>
    <!--Use template if:true to display/hide popup based on isModalOpen value-->
    <template if:true={isModalOpen}>
        <!-- Modal/Popup Box LWC starts here -->
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
            aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open request-detail">
            <div class="slds-modal__container">
                <!-- Modal/Popup Box LWC header here -->
                <header class="slds-modal__header h-60 border-0 rounded-0">
                    <button
                        class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse border-0 shadow-none"
                        title="Close" onclick={closeModal}>
                        <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 8L24 24M40 40L24 24M24 24L40 8L8 40" stroke="#004F9B" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                </header>
                <!-- Modal/Popup Box LWC body starts here -->
                <div class="slds-modal__content slds-var-p-around_medium radius-0" id="modal-content-id-1">
                    <template if:true={isReqToSitesModalOpen}>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="col-md-12 submit-plant">
                                    <div class="col-md-12 align-items-center">
                                        <div class="row text-center d-sm-block">
                                            <div class="col-lg-12 mb-3">
                                                <div class="row mt-3 mt-lg-0">
                                                    <div class="col-lg-12">
                                                        <h2 role="heading" class="noto-font blue-primary f20 mb-0">
                                                            <span class="f20 ft-weight-800">
                                                                <span>{label.requestAccessLbl}</span>
                                                            </span>
                                                        </h2>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg- mb-4">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <label class="noto-font f14 grey-darkest">
                                                            <span class="f14 font-weight-normal">
                                                                <span>{label.updateProfileMsg2Lbl}</span>
                                                            </span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 mb-4">
                                                <div class="row plant-list">
                                                    <div class="col-lg-12 text-center mb-3 loading-icon d-none">
                                                        <div class="spinner-border text-dark"></div>
                                                        <div class="txt-load">Loading..</div>
                                                    </div>
                                                    <template for:each={plantList} for:item="pItem">
                                                        <div key={pItem.Name}
                                                            class="col-lg-6 manage-colleague-checkbox text-left mb-2">
                                                            <input data-plant={pItem.Name}
                                                                data-plant-id={pItem.Plant_Code__c}
                                                                value={pItem.Plant_Code__c} id={pItem.Plant_Code__c}
                                                                name="plantName" type="checkbox"
                                                                onchange={validateChk}><label
                                                                class="checkbox-inline noto-font f14 grey-darkest font-weight-normal"
                                                                for={pItem.Plant_Code__c}><span>{pItem.Name}</span></label>
                                                        </div>
                                                    </template>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 pt-1">
                                                <div class="form-group row">
                                                    <button type="button" style="width:100%" disabled
                                                        onclick={submitRequest}
                                                        class="btn btn-primary text-uppercase f14 ft-weight-800">
                                                        {label.submitRequestLbl}
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                    <template if:true={reqAddSiteModalOpen}>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="col-md-12 update-profile-md-pd">
                                    <div class="col-md-12 align-items-center">
                                        <div class="row mt-3 mb-lg-5 mt-lg-0 text-center d-sm-block">
                                            <div class="col-lg-12 mb-5">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <h2 role="heading" class="noto-font blue-primary f20 mb-0">
                                                            <span class="f20 ft-weight-800">
                                                                <span>{label.updateProfileMsg3Lbl}</span>
                                                            </span>
                                                        </h2>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 text-center submit-data p-2 mb-5">
                                                <div class="text-center">
                                                    <label class="noto-font f14 grey-darkest">
                                                        <span class="f14 font-weight-normal">
                                                            <span>{label.updateProfileMsg4Lbl}</span>
                                                        </span>
                                                    </label>
                                                </div>
                                                <div class="text-center">
                                                    <label class="noto-font f14 grey-darkest site-plant-list">
                                                        <span class="f14 fbold">
                                                            <span>{requestPlantResult}</span>
                                                        </span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 mb-5 mb-update-Profile-close">
                                                <div class="row">
                                                    <div class="col-lg-12 text-center">
                                                        <a href="javascript:void(0)" onclick={closeModal}
                                                            class="text-right blue-primary f14 pr-5">
                                                            <i class="fas pr-1">
                                                                <svg width="16" height="16" viewBox="0 0 16 16"
                                                                    fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                    <path d="M5 5L8 8M11 11L8 8M8 8L11 5L5 11"
                                                                        stroke="#004F9B" stroke-width="2"
                                                                        stroke-linecap="round" stroke-linejoin="round">
                                                                    </path>
                                                                </svg>
                                                            </i>
                                                            <ins>{label.closeLbl}</ins>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
</template>